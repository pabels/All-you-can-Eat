
<polymer-element name="restaurant-card" attributes="restaurantObject"  on-restaurant-edited="{{openDialog}}"  >

  <template>
   <style>
    :host {
      display: block;
      position: relative;
      background-color: lightyellow;
      border-style: inherit;
      border-radius: 23px;
      border-color: black;
      border-width: 3px;
      margin-top: 10px;
      padding: 9px;
      width: 620px;
      font-family: 'Allura-Regular';
    }
    
    img{
      margin-left: 20px;
      border-radius: 11px;
      width: 150px;
      height: 150px;
      float: left;
    }
    h1{
     display: block;
      font-size: 36px;
      font-weight: bold;
      margin-top: 15px;
      font-family: Allura-Regular;

    }   
      
    p{
      float: left;
      font-size: 25px;
      margin-bottom: 6px;

    }
    #muevete{
      width: 350px;
      margin-left: 35px;
      text-align: center;
    }
    #card{
      border-radius: 20%;
    }
   
    
   </style>
    <div class="card-header" layout horizontal center>
      <img src={{restaurantObject.image}} >
        <div id="muevete">
            <h1>{{restaurantObject.name}}</h1>
            <p>{{restaurantObject.paragraph}}</p>
            <paper-toggle-button on-change="{{fireOpen}}"></paper-toggle-button>

         </div>
    </div>

    <restaurant-controls restaurant="{{restaurantObject}}"  hidden?="{{!loggedon}}"></restaurant-controls>
      <dialog-update  id="dialog_update" restaurant="{{restaurantObject}}"></dialog-update>


<core-collapse id="collapse1" class="" style="overflow: hidden; height: auto;">
 <create-comment></create-comment>
  
    <comments-list id="comentList"></comments-list>
    

</core-collapse>  
     



</template>
  <script>

  Polymer({
     loggedon: true,
      
    created: function(){
        localStorage.token !== undefined ? this.loggedon = true : this.loggedon = false;
      
     },

     open : function (){
     this.$.collapse1.toggle();
     

     },

    ready : function(){

        this.addEventListener('comment-created',function(event, detail, sender){
          console.log(event.detail+"SOY REST CART ********************************");
          this.$.comentList.comments.unshift(event.detail);
        }.bind(this))
      


     
    },
    openDialog : function(){
      console.log ( 'lanzateeeeeeee');
      this.$.dialog_update.openningDialog();
    },

    handlePushComment : function(event,detail){
      console.log("****************************+"+detail);


    },
    fireOpen : function(){
      console.log("cerveza cerveza huuuuuuuuuuuu");
      this.open();
    }
   
  });

  </script>
</polymer-element>
