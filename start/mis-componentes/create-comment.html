<polymer-element name="create-comment" attributes="restaurant profile" >

 <template>
   <style>
 
   #content{
       width: 200px;
       text-align: center;
       font-size: 20px;
       margin: 3px;
   }
   paper-input{
    margin-left: -168px;
   }
   #done{
    margin-right: -93px;
   }

   </style>
    
    <center>
  
    <core-icon-button icon="add-circle" on-click="{{openToggle}}"></core-icon-button>
      <core-collapse id="collapse2" class="" style="overflow: hidden; height: auto;">
          <div id="content" layout horizontal center>
            <paper-input  id="comment" floatingLabel="true"></paper-input> <core-icon-button id="done" icon="done" on-click="{{pushComment}}"></core-icon-button>
            
          </div>
       </paper-input-decorator>
    
 
    

    </core-collapse> 
   
    </center>
  
     



</template>
  <script>

  Polymer({
      
    created: function(){
      

     },

    ready : function(){


     
    },

    openToggle : function(){
      this.$.collapse2.toggle();

    },
    pushComment : function (){
      //aqui meter los datos de la funcioo ruter que qiueda pendiente

      var comment = {
                        picture:this.profile.picture,
                        link : this.profile.link,
                        name : this.profile.given_name,
                        comment : this.$.comment.value
                     };


       this.restaurant.comments.unshift(comment);

    

      this.fire('comment-created', this.restaurant); 

        this.clearComennt();
        this.openToggle();

    },
    
    clearComennt :function (){

      this.$.comment.value = "";
    }
    
   
  });



  </script>
</polymer-element>
